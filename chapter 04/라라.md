# 4장. 결과를 전달하는 HTTP 상태 코드

## 상태 코드는 서버로부터 리퀘스트 결과를 전달한다

### 상태 코드란?

- 클라이언트와 서버간의 응답에 대한 상태를 나타냄
- 200 OK와 같이 3자리 숫자와 설명으로 나타냄
- 숫자의 첫 번째 (2) : 리스폰스의 클래스

<br>

### 2xx 성공 (Success)

→ 리퀘스트가 정상으로 처리되었음

1. **200 OK**
    - 클라이언트가 보낸 리퀘스트를 서버가 정상 처리하였음
    - 리스폰스에서 상태코드와 함께 되돌아오는 정보는 메소드에 따라 다름
    - GET : 리퀘스트된 리소스에 대응하는 엔티티가 리스폰스에로 보내짐
    - HEAD : 리퀘스트된 리소스에 대응하는 엔티티 헤더 필드가 메시지 바디를 동반하지 않고 리스폰스로 돌아옴
2. **204 No Content**
    - 성공했지만 리스폰스에 엔티티 바디를 포함하지 않음
    - 어떠한 바디를 되돌려주면 안됨
        - 브라우저에서 리퀘스트 보낸 후 204 리스폰스를 수신했어도 화면이 변하면 안됨
    - 클라이언트에서 서버에 정보를 보내기만 하는 경우
3. **206 Partial Content**
    - Range 에 의해서 범위가 지정된 리퀘스트에 의해서 서버가 부분적 GET 리퀘스트를 받았음
    
<br>

### 3xx 리다이렉트 (Redirection)

→ 리퀘스트가 정상적으로 처리를 종료하기 위해 브라우저 측에서 특별한 처리를 수행해야 함

1. **301 Moved Permanently**
    - 리다이렉트 상태 응답 코드는 요청한 리소스가 Location 헤더에 주어진 URL로 완전히 옮겨졌다는 것을 나타
2. **302 Found**
    - 클라이언트가 요청한 리소스가 헤더에 주어진 URL에 일시적으로 이동되었음을 가리킴
    - 301 과 비슷하지만 다름. 302 는 영구적이 아닌 일시적임
3. **303 See Other**
    - 리퀘스트에 대한 리소스는 다른 URI 에 있기 때문에 GET 메소드를 사용해서 얻어야 한다는 것을 나타냄
    - 302 와 같은 기능이지만 리다이렉트 장소를  GET 메소드로 얻어야 한다고 명확하게 되어 있는 점이 302 와 다름
- 301, 302, 303 리스폰스 코드가 되돌아 오면, 대부분 브라우저에서는 POST 를 GET 으로 바꾸어서 리퀘스 엔티티 바디를 삭제하고 리퀘스트를 자동적으로 재송신하도록 되어 있음
1. **304 Not Modified**
    - 클라이언트 조건부 리퀘스트를 했을 때 리소스에 대한 엑세스는 허락하지만, 조건이 충족되지 않음을 표시
    - 리스폰스 바디가 있으면 안됨
2. **307 Temporary Redirect**
    - 302와 같은 의미를 지님
    
<br>

### 4xx 클라이언트 에러 (Client Error)

→ 클라이언트의 원인으로 에러가 발생했음

1. **400 Bad Request**
    - 리퀘스트 구문이 잘못되었음
2. **401 Unauthorized**
    - HTTP 인증 정보가 필요하다는 것을 나타냄
    - 또한, 이미 1번 리퀘스트가 이루어진 경우에는 유저 인증에 실패했음을 표시
3. **403 Forbidden**
    - 리퀘스트된 리소스의 엑세스가 거부되었음
    - ex) 파일 시스템의 Permission이 부여되지 않은 경우와 엑세스 권한 문제 등
4. **404 Not Found**
    - 리퀘스트한 리소스가 서버상에 없음
    
<br>

### 5xx 서버 에러 (Server Error)

→ 서버 원인으로 에러가 발생하고 있음

1. **500 Internal Server Error**
    - 서버에서 리퀘스트를 처리하는 도중에 에러가 발생함
2. **503 Service Unavaliable**
    - 리스폰스는 일시적으로 서버가 과부하 상태이거나 점검중이기 때문에 현재 리퀘스트를 처리할 수 없음을 나타냄
<br>

### 상태 코드가 현재 상황과 불일치할 수도 있다

- 리스폰스로 되돌아오는 상태 코드의 대부분은 유저가 다른 내용을 알기 어려움
- 웹 어플리케이션에서 어플리케이션 에러가 발생한 경우에는 상태코드로 200 OK 가 되돌아오는 경우도 있음
