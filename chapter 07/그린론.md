# 7장. 웹을 안전하게 지켜주는 HTTPS

## 7.1 HTTP의 약점
HTTP를 사용한 리퀘스트나 리스폰스 통신은 내용을 암호화하는 기능이 없다.
즉, 암호화되지 않은 메시지(평문)로 보내게 된다.

### 평문(암호화 하지 않은) 통신이기 때문에 도청 가능
- TCP/IP는 도청이 가능한 네트워크
    - TCP/IP 구조의 통신 내용은 통신 경로 중에 엿볼 수 있다.

    - 도청을 피하기 위한 기술 - 암호화
        - 통신 암호화(SSL, TLS)
        - 콘텐츠 암호화(통신하는 콘텐츠 자체를 암호화)

- 통신 상대를 확인하지 않기 때문에 위장 가능
    - http를 사용한 요청과 응답은 통신 상대를 확인하지 않는다. 따라서, 누구나 요청할 수 있다.
    - 위장한 웹 서버와 클라이언트 문제가 있다.
    - 의미없는 요청도 수신하게 되므로 DoS 공격을 방지할 수 없다.
    
- 완전성을 증명할 수 없기 때문에 변조 가능
    - 요청과 응답의 내용이 통신 과정에서 변조되더라도 이를 확인할 수 없다.(Man-In-The-Middle 공격)

## 7.2 HTTP + 암호화 + 인증 + 완전성 보호 = HTTPS
### HTTPS는 SSL의 껍질을 덮어쓴 HTTP
- 보통 HTTP는 TCP와 직접 통신하지만, SSL을 사용한 경우에는 SSL을 중간에 두고 통신하게 된다.
- SSL을 사용함으로써, HTTP는 암호화와 증명서, 완정성 보호를 이용할 수 있게 됩니다.

### 공개키 암호화 방식
현대의 암호는 비밀키를 사용하여 암호화하고 복호화합니다.
키가 없으면 암호를 풀 수 없지만, 키가 노출되면 암호화의 의미가 없게 됩니다.

- 공통키 암호의 딜레마
    - 암호화, 복호화를 같은 키를 사용한다.
    - 키를 얻으면 누구라도 복호화할 수 있다.

- 비밀키, 공개키
    - 보내는 측이 상대의 공개키를 사용해 암호화를 한다. 암호화된 정보를 받는 측은 자신의 비밀키로 복호화한다.
    - 비밀키를 통신으로 보낼 필요가 없기 때문에, 통신 과정 중 유출될 일이 없다.

- 하이브리드 암호 시스템
    - 공개키 암호는 공통키 암호보다 느리다는 단점이 존재한다.
    - 키를 교환하는 곳에서는 공개키 암호를 사용하고, 통신에서 메시지를 교환하는 곳에서는 공통키 암호를 사용하는 방식이다.

### 공개키의 문제점
    - 공개키가 진짜인지 증명할 수 없다.
    - 공개키 증명서를 사용하면 증명할 수 있다.


### SSL과 TLS
- HTTPS에서는 SSL(Secure Socket Layer)과 TLS(Transport Layer Security) 두 프로토콜을 사용하고 있다.
- SSL 통신을 사용하는 만큼 네트워크 리소스를 더 많이 소비하게 된다. -> 느려진다.

- - -
## REFERENCES
우에노 센, 그림으로 배우는 HTTP & Network Basic, 2015